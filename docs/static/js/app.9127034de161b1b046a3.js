webpackJsonp([1],{"5+VP":function(t,e){},N8mv:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("nav",[e("div",{staticClass:"header"},[e("router-link",{attrs:{to:{name:"root"}}},[e("img",{attrs:{src:"https://static2.cnodejs.org/public/images/cnodejs_light.svg",alt:"header_svg"}})]),this._v(" "),this._m(0)],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[n("a",{attrs:{href:"#"}},[t._v("首页")])]),t._v(" "),n("li",[n("a",{attrs:{href:"#"}},[t._v("新手入门")])]),t._v(" "),n("li",[n("a",{attrs:{href:"#"}},[t._v("API")])]),t._v(" "),n("li",[n("a",{attrs:{href:"#"}},[t._v("关于")])]),t._v(" "),n("li",[n("a",{attrs:{href:"#"}},[t._v("注册")])]),t._v(" "),n("li",[n("a",{attrs:{href:"#"}},[t._v("登陆")])])])}]};var i=n("VU/8")({name:"Header"},s,!1,function(t){n("PbmF")},"data-v-05395b4d",null).exports,r=n("7t+N"),o=n.n(r),c={name:"Pagination",data:function(){return{pagebtns:[1,2,3,4,5,"....."],currentPage:1,jduge:!1}},methods:{btnChange:function(t){if("number"==typeof t)this.currentPage=t,this.jduge=t>4,t==this.pagebtns[4]?(this.pagebtns.shift(),this.pagebtns.splice(4,0,this.pagebtns[3]+1)):t===this.pagebtns[0]&&1!==t&&(this.pagebtns.unshift(this.pagebtns[0]-1),this.pagebtns.splice(5,1)),this.$emit("handle-list",this.currentPage);else switch(console.log(t),t.target.innerText){case"上一页":o()("button.currentPage").prev().click();break;case"下一页":o()("button.currentPage").next().click();break;case"首页":this.pagebtns=[1,2,3,4,5,"....."],this.btnChange(1)}}}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pagination"},[n("button",{on:{click:t.btnChange}},[t._v("首页")]),t._v(" "),n("button",{on:{click:t.btnChange}},[t._v("上一页")]),t._v(" "),t.jduge?n("button",[t._v(".....")]):t._e(),t._v(" "),t._l(t.pagebtns,function(e,a){return n("button",{key:a,class:[{currentPage:e==t.currentPage},"pagebtn"],on:{click:function(n){return t.btnChange(e)}}},[t._v(t._s(e))])}),t._v(" "),n("button",{on:{click:t.btnChange}},[t._v("下一页")])],2)},staticRenderFns:[]};var l={name:"PostList",data:function(){return{isLoading:!1,posts:[],postPage:1}},components:{pagination:n("VU/8")(c,u,!1,function(t){n("Tm3i")},"data-v-1da81099",null).exports},methods:{getData:function(){var t=this;this.$http.get("https://cnodejs.org/api/v1/topics",{params:{page:this.postPage,limit:15}}).then(function(e){t.isLoading=!0,t.posts=e.data.data,console.log(t.posts)}).catch(function(t){console.log(t)})},renderList:function(t){this.postPage=t,this.getData()}},beforeMount:function(){this.getData()}},_={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"PostList"},[n("div",{attrs:{bind:t.isLoading}}),t._v(" "),n("div",[n("ul",[t._m(0),t._v(" "),t._l(t.posts,function(e,a){return n("li",{key:a},[n("img",{attrs:{src:e.author.avatar_url,alt:""}}),t._v(" "),n("span",[n("span",{staticClass:"reply_count"},[t._v(t._s(e.reply_count)+"/"+t._s(e.visit_count))]),t._v(" "),n("span",{class:[{put_good:1==e.good,put_top:1==e.top,"topiclist-tab":1!=e.good&&1!=e.top}]},[t._v(t._s(t._f("tabFormatter")(e)))]),t._v(" "),n("router-link",{attrs:{to:{name:"post_content",params:{id:e.id,name:e.author.loginname}}}},[n("span",[t._v(t._s(e.title))])]),t._v(" "),n("span",{staticClass:"last_reply"},[t._v(t._s(t._f("formatDate")(e.last_reply_at)))])],1)])})],2)]),t._v(" "),n("pagination",{on:{"handle-list":t.renderList}})],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",[n("div",{staticClass:"toobar"},[n("span",[t._v("全部")]),t._v(" "),n("span",[t._v("精华")]),t._v(" "),n("span",[t._v("分享")]),t._v(" "),n("span",[t._v("问答")]),t._v(" "),n("span",[t._v("招聘")])])])}]};var p=n("VU/8")(l,_,!1,function(t){n("bzLn")},"data-v-623f6bfc",null).exports,v={name:"App",components:{Header:i,PostList:p}},f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Header"),this._v(" "),e("div",{staticClass:"main"},[e("div",{staticClass:"app_article"},[e("router-view",{attrs:{name:"main"}}),this._v(" "),e("router-view",{attrs:{name:"sidebar"}})],1)])],1)},staticRenderFns:[]};var d=n("VU/8")(v,f,!1,function(t){n("N8mv")},null,null).exports,h=n("/ocq"),m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"article-wrapper"},[n("div",{staticClass:"article"},[n("div",{staticClass:"topic_header"},[n("div",{staticClass:"topic_title"},[t._v(t._s(t.post.title))]),t._v(" "),n("ul",[n("li",[t._v("·发布于："+t._s(t._f("formatDate")(t.post.create_at)))]),t._v(" "),n("li",[t._v("·作者："+t._s(t.post.author.loginname))]),t._v(" "),n("li",[t._v("·"+t._s(t.post.visit_count)+" 次浏览")]),t._v(" "),n("li",[t._v("·来自 "+t._s(t._f("tabFormatter")(t.post)))])])]),t._v(" "),n("div",{staticClass:"topic_content markdown-body",domProps:{innerHTML:t._s(t.post.content)}})]),t._v(" "),n("div",{staticClass:"reply_content"},[n("div",{staticClass:"topbar"},[t._v("回复")]),t._v(" "),t._l(t.post.replies,function(e,a){return n("div",{key:a,staticClass:"replySec"},[n("div",{staticClass:"replyUP"},[n("router-link",{attrs:{to:{name:"user_info",params:{name:e.author.loginname}}}},[n("img",{attrs:{src:e.author.avatar_url,alt:"头像"}})]),t._v(" "),n("span",[t._v(t._s(e.author.loginname))]),t._v(" "),n("span",[t._v(t._s(a+1)+"楼")]),t._v(" "),e.ups.length>0?n("span",[t._v(t._s(e.ups.length))]):n("span")],1),t._v(" "),n("p",{domProps:{innerHTML:t._s(e.content)}})])})],2)])},staticRenderFns:[]};var g=n("VU/8")({name:"Article",data:function(){return{post:{author:{}}}},methods:{getArticleData:function(){var t=this;this.$http.get("https://cnodejs.org/api/v1/topic/"+this.$route.params.id).then(function(e){1==e.data.success&&(t.post=e.data.data)}).catch()}},beforeMount:function(){this.getArticleData()},watch:{$route:function(t,e){this.getArticleData()}}},m,!1,function(t){n("lomo")},null,null).exports,b={name:"UserInfo",data:function(){return{userinfo:{}}},methods:{getData:function(){var t=this;this.$http.get("https://cnodejs.org/api/v1/user/"+this.$route.params.name).then(function(e){t.userinfo=e.data.data,console.log(t.userinfo)}).catch(function(t){console.log(t)})}},beforeMount:function(){this.getData()}},C={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"UserInfo"},[n("div",{staticClass:"userInfomation"},[n("section",[n("img",{attrs:{src:t.userinfo.avatar_url}}),t._v(" "),n("span",[t._v(t._s(t.userinfo.loginname))]),t._v(" "),n("p",[t._v(t._s(t.userinfo.score)+"积分")]),t._v(" "),n("p",[t._v("注册时间: "+t._s(t._f("formatDate")(t.userinfo.create_at)))])]),t._v(" "),n("div",{staticClass:"replies"},[n("p",[t._v("回复的主题")]),t._v(" "),n("ul",t._l(t.userinfo.recent_replies,function(e,a){return n("li",{key:a},[n("router-link",{attrs:{to:{name:"post_content",params:{id:e.id,name:e.author.loginname}}}},[t._v(t._s(e.title))])],1)}),0)]),t._v(" "),n("div",{staticClass:"topics"},[n("p",[t._v("创建的主题")]),t._v(" "),n("ul",t._l(t.userinfo.recent_topics,function(e,a){return n("li",{key:a},[n("router-link",{attrs:{to:{name:"post_content",params:{id:e.id,name:e.author.loginname}}}},[t._v(t._s(e.title))])],1)}),0)])])])},staticRenderFns:[]};var k=n("VU/8")(b,C,!1,function(t){n("5+VP")},"data-v-27146ef0",null).exports,y={name:"SideBar",data:function(){return{userinfo:{}}},methods:{getArticleData:function(){var t=this;this.$http.get("https://cnodejs.org/api/v1/user/"+this.$route.params.name).then(function(e){1==e.data.success&&(t.userinfo=e.data.data),console.log(t.userinfo)}).catch()}},beforeMount:function(){this.getArticleData()},computed:{topcilimitby5:function(){if(this.userinfo.recent_topics)return this.userinfo.recent_topics.slice(0,5)},replieslimitby5:function(){if(this.userinfo.recent_replies)return this.userinfo.recent_replies.slice(0,5)}}},P={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"authorinfo"},[n("div",{staticClass:"authorsummay"},[n("div",{staticClass:"topbar"},[t._v("作者")]),t._v(" "),n("router-link",{attrs:{to:{name:"user_info"}}},[n("img",{attrs:{src:t.userinfo.avatar_url,alt:"头像"}})])],1),t._v(" "),n("div",{staticClass:"recent_topics"},[n("div",{staticClass:"topbar"},[t._v("作者最近主题")]),t._v(" "),n("ul",t._l(t.topcilimitby5,function(e,a){return n("li",{key:a},[n("router-link",{attrs:{to:{name:"post_content",params:{id:e.id,name:e.author.loginname}}}},[t._v(t._s(e.title))])],1)}),0)]),t._v(" "),n("div",{staticClass:"recent_replies"},[n("div",{staticClass:"topbar"},[t._v("作者最近回复")]),t._v(" "),n("ul",t._l(t.replieslimitby5,function(e,a){return n("li",{key:a},[n("router-link",{attrs:{to:{name:"post_content",params:{id:e.id,name:e.author.loginname}}}},[t._v(t._s(e.title))])],1)}),0)])])},staticRenderFns:[]};var $=n("VU/8")(y,P,!1,function(t){n("sTf+")},"data-v-5d1a46a2",null).exports;a.a.use(h.a);var D=new h.a({routes:[{path:"/topic/:id&author=:name",name:"post_content",components:{main:g,sidebar:$}},{path:"/",name:"root",components:{main:p}},{path:"/userinfo/:name",name:"user_info",components:{main:k}}]}),F=n("mtWM"),L=n.n(F);a.a.prototype.$http=L.a,a.a.config.productionTip=!1,a.a.filter("formatDate",function(t){if(!t)return"";var e=new Date(t),n=(new Date).getTime()-e.getTime();return n<0?"":n/1e3<30?"刚刚":n/1e3<60?parseInt(n/1e3)+"秒前":n/36e4<24?parseInt(n/36e4)+"小时前":n/864e5<31?Math.ceil(n/864e5)+"天前":n/2592e6<12?parseInt(n/2592e6)+"月前":parseInt(n/31536e6)+"年前"}),a.a.filter("tabFormatter",function(t){return 1==t.good?"精华":1==t.top?"置顶":"ask"==t.tab?"问答":"share"==t.tab?"分享":"招聘"}),new a.a({el:"#app",router:D,components:{App:d},template:"<App/>"})},PbmF:function(t,e){},Tm3i:function(t,e){},bzLn:function(t,e){},lomo:function(t,e){},"sTf+":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.9127034de161b1b046a3.js.map